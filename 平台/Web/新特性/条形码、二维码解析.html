<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <img class="qr"
        src="data:image/png;base64,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"
        alt="">
    <script>
        if (!("BarcodeDetector" in globalThis)) {
            console.log("此浏览器不支持条形码检测器。");
        } else {
            console.log("条形码检测器是支持的！");
            const qr = document.querySelector('.qr')

            // 创建新检测器
            const barcodeDetector = new BarcodeDetector({
                // 支持的条形码格式：https://developer.mozilla.org/zh-CN/docs/Web/API/Barcode_Detection_API#%E6%94%AF%E6%8C%81%E7%9A%84%E6%9D%A1%E5%BD%A2%E7%A0%81%E6%A0%BC%E5%BC%8F
                formats: ['aztec', 'code_128', "code_39", 'code_93', "codabar", 'data_matrix', 'ean_13', "ean_8", 'itf', 'pdf417', 'qr_code', 'upc_a', 'upc_e'],
            });

            barcodeDetector
                .detect(qr)
                .then((barcodes) => {
                    barcodes.forEach((barcode) => {

                        // 返回表示检测到的条形码范围的矩形尺寸，与图像对齐
                        console.log(barcode.boundingBox);
                        // 检测到的条形码的四个角点相对于图像的 x 和 y 坐标，从左上角开始顺时针旋转。由于图像内的透视变形，这可能不是方形的
                        console.log(barcode.cornerPoints);
                        // 检测到的条形码格式
                        console.log(barcode.format);
                        // 一个从条形码数据解码的字符串
                        console.log(barcode.rawValue)
                    });
                })
                .catch((err) => {
                    console.log(err);
                });

        }
    </script>
</body>

</html>
